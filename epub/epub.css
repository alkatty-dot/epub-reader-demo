@charset "UTF-8";

/* ===== FunPark 粉彩主題（只改視覺、不改行為） ===== */
:root{
  --bg: #f8fafc;
  --ink: #1f2937;
  --sub: #64748b;
  --card: #ffffff;
  --border: #e5e7eb;
  --shadow: 0 10px 30px rgba(0,0,0,.08);

  /* FunPark 粉彩 */
  --primary: #6aa7ff;   /* 天空藍 */
  --primary-2: #8fd3ff; /* 淡藍 */
  --accent: #ffd166;    /* 粉黃 */
  --accent-2:#ffb347;   /* 橘黃 */
  --mint: #b5ead7;      /* 薄荷綠 */
  --lav:  #c7c9ff;      /* 淡薰紫 */
  --rose: #ffc7d1;      /* 粉紅 */
}

/* 基本排版 */
*{ box-sizing: border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"PingFang TC","Microsoft JhengHei",sans-serif;
  color:var(--ink);
  background:
    radial-gradient(60% 40% at 10% 0%, #eef2ff 0%, transparent 60%),
    radial-gradient(60% 40% at 95% 0%, #fff2cc 0%, transparent 60%),
    var(--bg);
}

/* ===== 外框 & 標題列 ===== */
#title{
  max-width:min(100%,1200px);
  margin: clamp(12px,3vw,20px) auto 8px;
  padding: 10px 14px;
  color:#0f172a;
  background: linear-gradient(135deg, #fff, #fbfdff);
  border:1px solid var(--border);
  border-radius: 12px;
  box-shadow: var(--shadow);
  font-weight: 700;
}
#title h3{
  display:inline; margin:0 8px 0 0; font-size:1.1rem;
}
#title small{ color:var(--sub); }

/* ===== Viewer 卡片（RWD，維持 4:3 視覺比例） ===== */
#viewer{
  user-select:none;
  -webkit-user-select:none; -moz-user-select:none; -ms-user-select:none;

  width: min(100%, 1200px);
  aspect-ratio: 4 / 3;         /* 讓高度跟著寬度自動算 */
  height: auto;                 /* 取代原本固定 768px */
  margin: 0 auto 18px;
  background: var(--card);
  border:1px solid var(--border);
  border-radius: 16px;
  box-shadow: var(--shadow);
  overflow: hidden;
  display:flex; flex-direction:column;

  /* 你程式目前需要禁用 iframe 事件，保留不動 */
  pointer-events: none;
}

/* 若你的程式會建立 #viewer_event 作為互動層，就讓它無縫覆蓋在上方 */
#viewer_event{
  position: fixed;
  inset: auto auto 24px 50%;
  transform: translateX(-50%);
  width: min(100%, 1200px);
  border: 1px solid var(--border);
  border-radius: 16px;
  overflow: hidden;
  z-index: 998;
  background: transparent;
}

/* ===== 浮動工具鈕（左側） ===== */
#toolButton{
  position: fixed;
  top: 16px; left: 16px;
  width: 44px; height: 44px;
  display:grid; place-items:center;
  font-size: 24px;
  color:#334155;
  background: #fff;
  border:1px solid var(--border);
  border-radius: 9999px;
  box-shadow: var(--shadow);
  z-index: 999;
  user-select:none; -webkit-user-select:none; -moz-user-select:none; -ms-user-select:none;
}

/* ===== 目錄（TOC） ===== */
#toc{
  position: fixed;
  top: 70px; left: 16px;
  width: 280px; max-height: 70%;
  overflow-y: auto;
  color:#0f172a;
  background: rgba(255,255,255,.92);
  -webkit-backdrop-filter: blur(6px); backdrop-filter: blur(6px);
  border:1px solid var(--border);
  border-radius:16px;
  box-shadow: var(--shadow);
  padding: 14px 12px 10px;
  z-index:1000;
}
#toc ul{ list-style:none; margin:0; padding: 8px 0 0; }
#toc li{ margin: 4px 0; }
#toc button{
  width:100%;
  text-align: left;
  padding:10px 10px;
  border:none; background:transparent; cursor:pointer;
  border-radius:10px; color:#0f172a; font-weight:600;
}
#toc button:hover{ background:#f1f5f9; }
#closeToc{
  position:absolute; top:8px; right:8px;
  width: 36px; height:36px; line-height:36px; text-align:center;
  border:none; cursor:pointer;
  color:#fff; font-size:18px !important;
  background: linear-gradient(135deg, #fb7185, #ef4444) !important;
  border-radius:9999px;
}

/* ===== 工具面板（版面/字型等） ===== */
#toolDiv{
  position: fixed;
  top: 70px; left: 16px;
  width: 320px; max-height: 70%;
  overflow-y:auto;
  color:#0f172a;
  background: rgba(255,255,255,.94);
  -webkit-backdrop-filter: blur(6px); backdrop-filter: blur(6px);
  border:1px solid var(--border);
  border-radius:16px;
  box-shadow: var(--shadow);
  padding: 16px 14px;
  z-index:1000;
  display:none;
  font-size: 16px;
  user-select:none; -webkit-user-select:none; -moz-user-select:none; -ms-user-select:none;
}
#toolDiv div{ margin-bottom:12px; }
#toolDiv label{ margin-right:6px; color:#334155; font-weight:600; }
#toolDiv input[type="radio"]{ width:18px; height:18px; margin-right:8px; }
#toolDiv select{ font-size:15px; padding:8px 10px; border-radius:10px; border:1px solid var(--border); background:#fff; }
#toolDiv select option{ font-size:15px; }
#closeTool{
  position:absolute; top:8px; right:8px;
  width: 36px; height:36px; line-height:36px; text-align:center;
  border:none; cursor:pointer;
  color:#fff; font-size:18px !important;
  background: linear-gradient(135deg, #fb7185, #ef4444) !important;
  border-radius:9999px;
}

/* ===== 通用按鈕（控制列／工具列都可用） ===== */
.btn{
  appearance:none; border:none; cursor:pointer;
  padding:10px 16px; border-radius:9999px; font-weight:700;
  transition:transform .15s ease, box-shadow .2s ease, opacity .2s ease;
  box-shadow:0 2px 6px rgba(0,0,0,.06);
}
.btn:disabled{ opacity:.45; cursor:not-allowed; }
.btn:hover{ transform: translateY(-1px); box-shadow:0 6px 16px rgba(0,0,0,.12); }
.btn:active{ transform: none; }

.btn-primary{ color:#fff; background:linear-gradient(135deg,var(--primary),var(--primary-2)); }
.btn-accent { color:#fff; background:linear-gradient(135deg,var(--accent),var(--accent-2)); }
.btn-ghost  { color:#334155; background:#fff; border:1px solid var(--border); }

/* 若你有 .controls / .navigation-buttons 也一起美化（保留原結構） */
.controls{
  max-width:min(100%,1200px);
  margin: 10px auto 14px;
  display:flex; align-items:center; gap:10px; flex-wrap:wrap;
  color:var(--sub);
}
.navigation-buttons button,
.controls select{
  padding:10px 12px; font-size:16px;
  border-radius:10px; border:1px solid var(--border);
  background:#fff;
}
.navigation-buttons button:disabled,
.controls select:disabled{ background:#e5e7eb; cursor:not-allowed; }

/* ===== 小尺寸最佳化 ===== */
@media (max-width: 900px){
  #title{ margin:12px 12px 8px; }
  #viewer{ width: calc(100% - 24px); }
  #viewer_event{ width: calc(100% - 24px); inset:auto 12px 24px 12px; transform:none; }
  #toc, #toolDiv{ left:12px; width:min(86vw, 360px); }
}
@media (max-width: 480px){
  #toolButton{ top:12px; left:12px; width:40px; height:40px; }
  #title{ padding:8px 12px; }
  #closeToc, #closeTool{ width:32px; height:32px; line-height:32px; font-size:16px !important; }
}
