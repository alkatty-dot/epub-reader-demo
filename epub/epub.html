<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>2025ç«¥æ›¸æ˜Ÿå‰µçã€EPUBé–±è®€å™¨ã€‘</title>
  
  <!-- ä¿æŒä¹¾æ·¨ï¼šæ¨£å¼çµ±ä¸€æ”¾ epub.css -->
  <link rel="stylesheet" href="epub.css">

  <!-- å¿…è¦ç¨‹å¼ -->
  <script src="../data.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.5/jszip.min.js"></script>
  <script src="epub.min.js"></script>
  <script src="index.js"></script>
  <script src="get_data.js"></script>
</head>
<body>
  
  <!-- æ›¸å / å‡ºç‰ˆè³‡è¨Š -->
  <div id="title" role="banner" aria-live="polite"></div>

  <!-- é–±è®€å™¨ç•«é¢ -->
  <div id="viewer" role="region" aria-label="EPUB é–±è®€å™¨" aria-busy="true"></div>

  <!-- è¼‰å…¥å‹•ç•« -->
  <div id="loading" aria-hidden="true" hidden>
    <div class="spinner" aria-label="è¼‰å…¥ä¸­â€¦"></div>
  </div>

    <!-- è¨Šæ¯åå¸ -->
  <div id="toast" role="status" aria-live="polite" hidden></div>

  <!-- ğŸ”¹æ§åˆ¶å€å¡Š -->
  <div class="controls" role="toolbar" aria-label="é–±è®€æ§åˆ¶">
    <div class="navigation-buttons">
      <button id="prev" class="btn btn-primary" aria-label="ä¸Šä¸€é ">ä¸Šä¸€é </button>
      <button id="next" class="btn btn-primary" aria-label="ä¸‹ä¸€é ">ä¸‹ä¸€é </button>
      <button id="increaseFont" class="btn btn-accent" aria-label="æ”¾å¤§å­—é«”">æ”¾å¤§</button>
      <button id="decreaseFont" class="btn btn-ghost" aria-label="ç¸®å°å­—é«”">ç¸®å°</button>
    </div>
    <div class="extra-controls">
      <button id="tocButton" class="btn btn-ghost" aria-haspopup="true" aria-controls="toc">ç›®éŒ„</button>
      <button id="settingsButton" class="btn btn-ghost" aria-haspopup="true" aria-controls="toolDiv">è¨­å®š</button>
    </div>
  </div>

  <script>
    // ç­‰åˆ° index.js å»£æ’­ EPUBReaderReady å¾Œï¼Œå†å»è·‘ do_logic()
    document.addEventListener('EPUBReaderReady', function () {
      if (typeof do_logic === 'function') {
        do_logic();
      }
    }, { once: true });
  </script>
    
  <script>
    function do_logic(){  
      document.getElementById("title").innerHTML += 
        "<h3>" + selected_book.title + "</h3>" + 
        " å‡ºç‰ˆç¤¾:" + selected_book.publisher + 
        " ISBN:" + selected_book.isbn ;
      EPUBReader.init('viewer', '../' + selected_book.file);
    }
  </script>
  
  <script type="text/javascript" src="../get_data.js"></script>
</body>
</html>
